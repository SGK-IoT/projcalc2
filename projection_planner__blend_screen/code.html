<!DOCTYPE html>
<html class="dark" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Projection Planner: Blend Screen</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/>
<link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;500;600;700;800&family=Share+Tech+Mono&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
<script id="tailwind-config">
tailwind.config = {
  darkMode: "class",
  theme: {
    extend: {
      colors: {
        "bg":        "#090d12",
        "s1":        "#0f1823",
        "s2":        "#162030",
        "s3":        "#1e2d3f",
        "primary":   "#f5a623",
        "secondary": "#1e8eb4",
      },
      fontFamily: {
        "display": ["'Exo 2'", "sans-serif"],
        "mono":    ["'Share Tech Mono'", "monospace"],
      },
      borderRadius: {
        "DEFAULT": "0.25rem",
        "md":  "0.375rem",
        "lg":  "0.5rem",
        "xl":  "0.75rem",
        "2xl": "1rem",
        "full":"9999px",
      },
    },
  },
}
</script>
<style>
  .no-scrollbar::-webkit-scrollbar { display: none; }
  .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
  body { min-height: max(884px, 100dvh); }

  .readout { font-family: 'Share Tech Mono', monospace; letter-spacing: 0.05em; }
  .glow    { box-shadow: 0 0 0 1px rgba(245,166,35,0.4), 0 0 16px rgba(245,166,35,0.12); }

  /* Scanline texture */
  .scanlines {
    background-image: repeating-linear-gradient(
      0deg, transparent, transparent 2px,
      rgba(0,0,0,0.04) 2px, rgba(0,0,0,0.04) 4px
    );
  }

  /* Line-style input */
  .line-input {
    background: transparent;
    border: none;
    border-bottom: 2px solid rgba(255,255,255,0.08);
    outline: none;
    border-radius: 0;
    transition: border-bottom-color 0.15s ease;
  }
  .line-input:focus { border-bottom-color: #f5a623; }

  /* Custom slider */
  input[type=range] {
    -webkit-appearance: none;
    appearance: none;
    height: 4px;
    border-radius: 0;
    cursor: pointer;
    outline: none;
  }
  input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #ffffff;
    cursor: pointer;
    box-shadow: 0 0 0 2px rgba(245,166,35,0.4), 0 2px 8px rgba(0,0,0,0.4);
    margin-top: -8px;
  }
  input[type=range]::-moz-range-thumb {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #ffffff;
    cursor: pointer;
    border: none;
    box-shadow: 0 0 0 2px rgba(245,166,35,0.4), 0 2px 8px rgba(0,0,0,0.4);
  }
  input[type=range]::-webkit-slider-runnable-track { height: 4px; }
  input[type=range]::-moz-range-track {
    height: 4px;
    background: transparent;
    border-radius: 0;
  }

  /* ── Animation Keyframes ── */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  @keyframes fadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
  }
  @keyframes slideUp {
    from { transform: translateY(100%); opacity: 0; }
    to   { transform: translateY(0);    opacity: 1; }
  }
  @keyframes fillBar {
    from { width: 0; }
  }
  @keyframes blendPulse {
    0%, 100% { background: rgba(245,166,35,0.18); }
    50%       { background: rgba(245,166,35,0.28); }
  }
  @keyframes bump {
    0%, 100% { transform: scale(1); }
    50%       { transform: scale(1.3); }
  }
  @keyframes bumpDown {
    0%, 100% { transform: scale(1); }
    50%       { transform: scale(0.85); }
  }
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
</style>
</head>
<body class="bg-bg font-display text-[#e8edf2] min-h-screen flex flex-col antialiased selection:bg-primary/30">

  <!-- ── Header ─────────────────────────────────────────── -->
  <header class="px-5 pt-12 pb-4 flex justify-between items-center z-10 sticky top-0 bg-bg/95 backdrop-blur-sm border-b border-white/5">
    <div class="relative pl-3 flex-shrink-0">
      <div class="absolute left-0 inset-y-0 w-[2px] bg-primary"></div>
      <button class="p-1 text-[#6b7f94] hover:text-[#e8edf2] transition-colors">
        <span class="material-icons text-[22px]">arrow_back</span>
      </button>
    </div>
    <div class="text-center">
      <h1 class="text-[16px] font-extrabold tracking-tight uppercase leading-none">Edge Blend Calculator</h1>
    </div>
    <button class="w-8 h-8 bg-s2 border border-white/6 flex items-center justify-center text-[#6b7f94] hover:text-primary transition-colors">
      <span class="material-icons text-[18px]">settings</span>
    </button>
  </header>

  <!-- ── Main Content ────────────────────────────────────── -->
  <main class="flex-1 flex flex-col px-5 pb-8 no-scrollbar overflow-y-auto">

    <!-- Square Step Indicator -->
    <div class="py-5">
      <div class="relative flex items-center justify-between">
        <!-- Progress line bg -->
        <div class="absolute top-3.5 left-3.5 right-3.5 h-px bg-white/8"></div>
        <!-- Progress line active (25%) — animates from 0 -->
        <div class="absolute top-3.5 left-3.5 h-px bg-primary"
             style="width: calc(25% - 7px); animation: fillBar 0.5s ease both; animation-delay: 0.3s;"></div>

        <!-- Step 1 (Active) -->
        <div class="flex flex-col items-center gap-1.5 relative z-10"
             style="opacity:0; animation: fadeIn 0.3s ease both; animation-delay: 0.1s;">
          <div class="w-7 h-7 bg-primary flex items-center justify-center text-bg text-[11px] font-bold">1</div>
          <span class="text-[9px] font-mono uppercase tracking-wider text-primary">Setup</span>
        </div>
        <!-- Step 2 -->
        <div class="flex flex-col items-center gap-1.5 relative z-10 opacity-45"
             style="animation: fadeIn 0.25s ease both; animation-delay: 0.2s;">
          <div class="w-7 h-7 border border-white/20 bg-s2 flex items-center justify-center text-[#6b7f94] text-[11px] font-bold">2</div>
          <span class="text-[9px] font-mono uppercase tracking-wider text-[#6b7f94]">Overlap</span>
        </div>
        <!-- Step 3 -->
        <div class="flex flex-col items-center gap-1.5 relative z-10 opacity-45"
             style="animation: fadeIn 0.25s ease both; animation-delay: 0.28s;">
          <div class="w-7 h-7 border border-white/20 bg-s2 flex items-center justify-center text-[#6b7f94] text-[11px] font-bold">3</div>
          <span class="text-[9px] font-mono uppercase tracking-wider text-[#6b7f94]">Result</span>
        </div>
        <!-- Step 4 -->
        <div class="flex flex-col items-center gap-1.5 relative z-10 opacity-45"
             style="animation: fadeIn 0.25s ease both; animation-delay: 0.36s;">
          <div class="w-7 h-7 border border-white/20 bg-s2 flex items-center justify-center text-[#6b7f94] text-[11px] font-bold">4</div>
          <span class="text-[9px] font-mono uppercase tracking-wider text-[#6b7f94]">Pattern</span>
        </div>
      </div>
    </div>

    <!-- Configuration Card -->
    <div class="bg-s1 border border-white/6 p-4 mb-4">
      <!-- Orientation toggle (angular) -->
      <div class="mb-5">
        <p class="text-[9px] font-mono uppercase tracking-[0.15em] text-[#6b7f94] mb-2">Orientation</p>
        <div class="flex border border-white/6">
          <div class="relative flex-1">
            <div class="absolute left-0 inset-y-0 w-[2px] bg-primary"></div>
            <button class="w-full pl-4 pr-3 py-2.5 text-[12px] font-bold text-primary bg-primary/8 uppercase tracking-wider flex items-center justify-center gap-2">
              <span class="material-icons text-[16px]">swap_horiz</span> Horizontal
            </button>
          </div>
          <div class="flex-1 border-l border-white/6">
            <button class="w-full px-3 py-2.5 text-[12px] font-medium text-[#6b7f94] hover:text-[#e8edf2] uppercase tracking-wider flex items-center justify-center gap-2 transition-colors">
              <span class="material-icons text-[16px]">swap_vert</span> Vertical
            </button>
          </div>
        </div>
      </div>

      <!-- Projector counter -->
      <div class="flex items-center justify-between">
        <span class="text-[12px] text-[#6b7f94] uppercase tracking-wide">Projector Count</span>
        <div class="flex items-center gap-3">
          <button id="btn-minus" class="w-8 h-8 bg-s3 border border-white/8 flex items-center justify-center text-[#6b7f94] hover:text-[#e8edf2] hover:border-white/15 transition-colors">
            <span class="material-icons text-[18px]">remove</span>
          </button>
          <span id="proj-count" class="readout text-[22px] text-[#e8edf2] w-8 text-center">2</span>
          <button id="btn-plus" class="w-8 h-8 bg-primary flex items-center justify-center text-bg active:scale-95 transition-all glow">
            <span class="material-icons text-[18px]">add</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Visualizer -->
    <div class="relative w-full aspect-[16/9] bg-s2 border border-white/6 mb-4 overflow-hidden"
         style="background-image: linear-gradient(rgba(255,255,255,0.04) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.04) 1px, transparent 1px); background-size: 10px 10px;">

      <div class="absolute inset-0 flex items-center justify-center p-6">
        <div class="relative w-full h-full">

          <!-- PJ-1 zone -->
          <div class="absolute left-0 top-0 w-[54%] h-full border border-primary/35 bg-primary/[0.04]"
               style="opacity:0; animation: fadeUp 0.4s ease both; animation-delay: 0.4s;">
            <span class="absolute top-2 left-2 text-[8px] font-mono text-primary/55">PJ-1</span>
            <span class="absolute bottom-2 left-2 text-[8px] font-mono text-[#6b7f94]/50">1920 × 1080</span>
          </div>

          <!-- Blend zone -->
          <div class="absolute z-10 left-[46%] w-[8%] h-full"
               style="background: rgba(245,166,35,0.18); border-left: 1px dashed rgba(245,166,35,0.45); border-right: 1px dashed rgba(245,166,35,0.45); opacity:0; animation: fadeIn 0.5s ease 0.65s both, blendPulse 3s ease-in-out 1.5s infinite;">
            <!-- Center dashed line -->
            <div class="absolute left-1/2 inset-y-0 w-px" style="border-left: 1px dashed rgba(245,166,35,0.5);"></div>
            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 -rotate-90 whitespace-nowrap">
              <span class="text-[7px] font-mono text-primary/70 uppercase tracking-wider">BLEND</span>
            </div>
          </div>

          <!-- PJ-2 zone -->
          <div class="absolute right-0 top-0 w-[54%] h-full border border-primary/35 bg-primary/[0.04]"
               style="opacity:0; animation: fadeUp 0.4s ease both; animation-delay: 0.5s;">
            <span class="absolute top-2 right-2 text-[8px] font-mono text-primary/55">PJ-2</span>
            <span class="absolute bottom-2 right-2 text-[8px] font-mono text-[#6b7f94]/50">1920 × 1080</span>
          </div>

        </div>
      </div>

      <!-- Overlap label -->
      <div class="absolute bottom-2 left-1/2 -translate-x-1/2">
        <span class="readout text-[9px] text-primary bg-bg/80 px-2 py-0.5 border border-primary/20">Overlap: 20%</span>
      </div>
    </div>

    <!-- Inputs (line-input style) -->
    <div class="grid grid-cols-2 gap-5 mb-5">
      <div>
        <label class="text-[9px] font-mono uppercase tracking-[0.15em] text-[#6b7f94] block mb-2">Overlap %</label>
        <div class="relative">
          <input class="line-input w-full py-2 pr-6 readout text-[28px] text-[#e8edf2] leading-none"
                 type="number" value="20"/>
          <span class="absolute right-0 bottom-2 text-sm font-mono text-[#6b7f94]">%</span>
        </div>
      </div>
      <div>
        <label class="text-[9px] font-mono uppercase tracking-[0.15em] text-[#6b7f94] block mb-2">Overlap Pixels</label>
        <div class="relative">
          <input class="line-input w-full py-2 pr-7 readout text-[28px] text-[#e8edf2] leading-none"
                 type="number" value="384"/>
          <span class="absolute right-0 bottom-2 text-sm font-mono text-[#6b7f94]">px</span>
        </div>
      </div>
    </div>

    <!-- Slider -->
    <div class="mb-6">
      <input id="overlap-slider"
             type="range" min="0" max="50" value="20"
             class="w-full appearance-none"
             style="background: linear-gradient(to right, #f5a623 0%, #f5a623 40%, #1e2d3f 40%, #1e2d3f 100%);"/>
      <div class="flex justify-between mt-1.5 text-[9px] font-mono text-[#6b7f94] uppercase tracking-wider">
        <span>0%</span>
        <span>Soft Edge</span>
        <span>50%</span>
      </div>
    </div>

    <!-- Results table (scanline style) -->
    <div class="mb-2">
      <div class="flex items-center gap-2 mb-2">
        <div class="w-1.5 h-1.5 rounded-full bg-primary flex-shrink-0"></div>
        <h3 class="text-[9px] uppercase tracking-[0.18em] text-[#6b7f94]">Calculated Metrics</h3>
      </div>
      <div class="border border-white/6">
        <div class="flex items-center justify-between px-4 py-3 bg-s1"
             style="opacity:0; animation: fadeUp 0.35s ease both; animation-delay: 0.5s;">
          <span class="text-[11px] text-[#6b7f94] uppercase tracking-wide">Total Width</span>
          <span class="readout text-[13px] text-[#e8edf2]">3,456 px</span>
        </div>
        <div class="flex items-center justify-between px-4 py-3 bg-s2"
             style="opacity:0; animation: fadeUp 0.35s ease both; animation-delay: 0.58s;">
          <span class="text-[11px] text-[#6b7f94] uppercase tracking-wide">Effective Res</span>
          <span class="readout text-[13px] text-primary"><span id="eff-width">0</span> × 1080</span>
        </div>
        <div class="flex items-center justify-between px-4 py-3 bg-s1"
             style="opacity:0; animation: fadeUp 0.35s ease both; animation-delay: 0.66s;">
          <span class="text-[11px] text-[#6b7f94] uppercase tracking-wide">Blend Zone</span>
          <span class="readout text-[13px] text-[#e8edf2]">384 px</span>
        </div>
      </div>
    </div>

  </main>

  <!-- ── Footer CTA ──────────────────────────────────────── -->
  <footer class="px-5 pb-8 pt-4 bg-bg/95 border-t border-white/5 sticky bottom-0 z-20">
    <button class="w-full bg-primary hover:bg-primary/90 text-bg font-extrabold py-4 uppercase tracking-widest text-[13px] transition-all active:scale-[0.98] flex items-center justify-center gap-3 glow"
            style="border-radius:0.5rem; opacity:0; animation: slideUp 0.45s cubic-bezier(0.22,1,0.36,1) both; animation-delay: 0.6s;">
      <span class="material-icons text-[20px]">output</span>
      Export Alignment Pattern
    </button>
  </footer>

<script>
  /* Slider fill */
  const slider = document.getElementById('overlap-slider');
  function updateSlider() {
    const pct = (slider.value - slider.min) / (slider.max - slider.min) * 100;
    slider.style.background =
      `linear-gradient(to right, #f5a623 0%, #f5a623 ${pct}%, #1e2d3f ${pct}%, #1e2d3f 100%)`;
  }
  slider.addEventListener('input', updateSlider);
  updateSlider();

  /* Count-up utility */
  function countUp(el, to, decimals, duration) {
    const start = performance.now();
    const run = (now) => {
      const p = Math.min((now - start) / duration, 1);
      const e = 1 - Math.pow(1 - p, 3);
      el.textContent = (to * e).toFixed(decimals);
      if (p < 1) requestAnimationFrame(run);
    };
    requestAnimationFrame(run);
  }

  /* Bump animation on +/- buttons */
  function triggerBump(el, keyframe) {
    el.style.animation = 'none';
    el.offsetHeight; /* reflow */
    el.style.animation = `${keyframe} 0.2s ease`;
    el.addEventListener('animationend', () => { el.style.animation = ''; }, { once: true });
  }

  document.getElementById('btn-plus').addEventListener('click', () => {
    triggerBump(document.getElementById('proj-count'), 'bump');
  });
  document.getElementById('btn-minus').addEventListener('click', () => {
    triggerBump(document.getElementById('proj-count'), 'bumpDown');
  });

  /* Effective Res countup */
  document.addEventListener('DOMContentLoaded', () => {
    setTimeout(() => {
      countUp(document.getElementById('eff-width'), 3456, 0, 600);
    }, 1000);
  });
</script>
</body>
</html>
